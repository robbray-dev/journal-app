<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Journal Web App</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="src/style.css" />
    <meta name="author" content="Robert Bray" />
  </head>

  <body>
    <nav class="side-menu" id="sideMenu">
      <a href="journal.html">Calendar</a>
      <a href="entries.html">Entries</a>
      <a href="#">Settings</a>
    </nav>
    <div id="app">
      <!-- Top bar -->
      <header class="topbar" role="banner">
        <div class="topbar-left">
          <button class="icon-btn" id="menuBtn" aria-label="Menu">‚ò∞</button>

          <div class="search-box">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="search-icon"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"
              />
            </svg>
            <input
              type="text"
              class="search-input"
              placeholder="Search"
              aria-label="Search entries"
            />
          </div>
        </div>

        <div class="topbar-actions">
          <button class="icon-btn" aria-label="Mood Tracker">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M16 7h6v6" />
              <path d="m22 7-8.5 8.5-5-5L2 17" />
            </svg>
          </button>
        </div>
      </header>

      <main class="layout">
        <!-- LEFT: calendar -->
        <section class="calendar-pane">
          <div class="calendar-head">
            <div class="calendar-row">
              <select id="monthSelect" class="select"></select>
              <select id="yearSelect" class="select"></select>
            </div>

            <div class="weekdays" aria-label="Weekdays">
              <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span>
              <span>Fri</span><span>Sat</span><span>Sun</span>
            </div>
          </div>

          <div
            class="calendar-grid"
            id="calendarGrid"
            role="grid"
            aria-label="Monthly calendar"
          ></div>
        </section>

        <!-- RIGHT: drawer -->
        <aside class="drawer" aria-label="Add Entry panel">
          <div class="drawer-top">
            <div class="drawer-header">
              <div>
                <div class="drawer-kicker" id="selectedDateKicker">
                  Select a day
                </div>
                <h2 class="drawer-title">Entries</h2>
              </div>
            </div>
          </div>

          <div class="drawer-card">
            <!-- List Section -->
            <div class="drawer-section">
              <div class="drawer-section-head">
                <span class="section-title">For this day</span>
                <span class="section-sub" id="entryCountText">0 items</span>
              </div>

              <div class="drawer-list" id="entryList"></div>

              <!-- Empty state -->
              <div class="empty-state" id="emptyState">
                <div class="empty-icon">üìù</div>
                <div class="empty-title">No entries yet</div>
                <div class="empty-sub">
                  Start journaling by creating your first entry for this day.
                </div>
              </div>

              <!-- Add Button -->
              <button
                id="newEntrybtn"
                class="fab-btn"
                type="button"
                aria-label="Add Entry"
              >
                + Add Entry
              </button>
            </div>
          </div>
        </aside>
      </main>
    </div>
    <!-- Modal Overlay -->
    <div class="modal-overlay" id="modalOverlay">
      <div class="modal">
        <div class="modal-header">
          <h2 class="modal-title">Add New Entry</h2>
          <button class="modal-close" id="closeModalBtn" aria-label="Close">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M18 6L6 18M6 6l12 12" />
            </svg>
          </button>
        </div>

        <form id="entryForm">
          <div class="modal-body">
            <div class="form-group">
              <label class="form-label" for="entry-title">Title</label>
              <input
                type="text"
                id="entry-title"
                class="form-input"
                placeholder="Give your entry a title"
                required
              />
            </div>

            <div class="form-group">
              <label class="form-label" for="entry-did"
                >What you did today</label
              >
              <textarea
                id="entry-did"
                class="form-textarea"
                placeholder="Describe what you did today..."
                required
              ></textarea>
            </div>

            <div class="form-group">
              <label class="form-label" for="entry-learned"
                >What you learned today</label
              >
              <textarea
                id="entry-learned"
                class="form-textarea"
                placeholder="Share what you learned or discovered..."
                required
              ></textarea>
            </div>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" id="cancelBtn">
              Cancel
            </button>
            <button type="submit" class="btn btn-primary">Save Entry</button>
          </div>
        </form>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
